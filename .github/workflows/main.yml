name: Deploy to Tencent Cloud
on:
  push:
    branches: [ main ] # 当代码推送到main分支时触发
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Deploy to Server
        uses: cross-the-world/ssh-scp-ssh@v1
        with:
          host: ${{ secrets.BUCKET }} # 你的服务器IP
          user: ${{ secrets.TENCENT_SECRET_ID }} # 登录用户名
          pass: ${{ secrets.TENCENT_SECRET_KEY }} # 登录密码
          connect_timeout: 10s
          first_ssh: |
            cd /your/project/path # 进入服务器上的项目目录
            git pull origin main # 拉取最新代码
            # 这里可以加入构建命令，如 npm run build
